{% extends 'user_dashboard.html' %} {% load static %} {% block content %}
  <!-- side nav -->
  {% if request.user.is_authenticated and request.user.is_subscriber %}
    {% include 'partials/student_sidebar.html' %}
    {% endif %}

{% if request.user.is_authenticated and request.user.is_staff %}
  {% include 'partials/admin_sidebar.html' %}
  {% endif %}
  <!-- side nav -->
  {% load custom_filters %}
  <!-- side nav -->

  <main class="main-content position-relative max-height-vh-100 h-100 border-radius-lg">
    <!-- top nav -->
    {% include 'partials/top_nav.html' %}
    <!-- top nav -->

    <div class="container-fluid py-4">
      
      
      <div class="row">
         <div class="col-12 col-lg-8 mb-4">
          <p>{% include 'partials/messages.html'%}</p>
        </div>
        <div class="col-12 col-lg-12 mb-3">
          <h4> Admin Dashboard</h4>
        </div>

        <div class="col-sm-12">
          <div class="">
            <div class="p-3  ">
              <h2 class="d-inline text-md">welcome {{ request.user.username }}.</h2>
                      
            </div>
          </div>
        </div>
       
      </div>

      <div class="row mt-6">
        <div class="col-lg-3 col-md-6 col-sm-6 mt-sm-0 mt-4">
          <div class="card mb-2">
            <div class="card-header p-3 pt-2">
              <div class="icon icon-lg icon-shape bg-gradient-primary shadow-primary shadow text-center border-radius-xl mt-n4 position-absolute">
                <i class="material-icons opacity-10">person_add</i>
              </div>
              <div class="text-end pt-1">
                <p class="text-sm mb-0 text-capitalize"> Staff Users</p>
                <h4 class="mb-0 text-center">{{ rep_count }}</h4>
              </div>
            </div>
            <hr class="dark horizontal my-0" />
            <div class="card-footer p-3">
            
            </div>
          </div>
          <div class="mt-4">
            <a href ="#" class="btn btn-primary btn-lg w-100" > Manage Staff Users</a>
          </div>
        </div>

        <div class="col-lg-3 col-md-6 col-sm-6">
          <div class="card mb-2">
            <div class="card-header p-3 pt-2">
              <div class="icon icon-lg icon-shape bg-gradient-dark shadow-dark shadow text-center border-radius-xl mt-n4 position-absolute">
                <i class="material-icons opacity-10">house</i>
              </div>
              <div class="text-end pt-1">
                <p class="text-sm mb-0 text-capitalize">Total Departments</p>
                <h4 class="mb-0 text-center">{{ department_count }}</h4>
              </div>
            </div>
            <hr class="dark horizontal my-0" />
            <div class="card-footer p-3">
              
            </div>
          </div>
          <div class="mt-4">
            <a href ="{% url 'dashboard:department_list' %}" class="btn btn-dark btn-lg w-100" > Manage Departments</a>
          </div>
        </div>
        
        <div class="col-lg-3 col-md-6 col-sm-6 mt-lg-0 mt-4">
          <div class="card mb-2">
            <div class="card-header p-3 pt-2 bg-transparent">
              <div class="icon icon-lg icon-shape bg-gradient-success shadow-success text-center border-radius-xl mt-n4 position-absolute">
                <i class="material-icons opacity-10">school</i>
              </div>
              <div class="text-end pt-1">
                <p class="text-sm mb-0 text-capitalize">Total Number of Students</p>
                <h4 class="mb-0 text-center">{{ student_count }}</h4>
              </div>
            </div>
            <hr class="horizontal my-0 dark" />
            <div class="card-footer p-3">
            </div>
          </div>
          <div class="mt-4">
            <a href ="{% url 'dashboard:student_list' %}" class="btn btn-success btn-lg w-100" >Manage Students</a>
          </div>
        </div>
        <div class="col-lg-3 col-md-6 col-sm-6 mt-lg-0 mt-4">
          <div class="card">
            <div class="card-header p-3 pt-2 bg-transparent">
              <div class="icon icon-lg icon-shape bg-gradient-info shadow-info text-center border-radius-xl mt-n4 position-absolute">
                <i class="material-icons opacity-10">approval</i>
              </div>
              <div class="text-end pt-1">
                <p class="text-sm mb-0 text-capitalize">Verified Certificates</p>
                <h4 class="mb-0  text-center">{{ certificate_count }}</h4>
              </div>
            </div>
            <hr class="horizontal my-0 dark" />
            <div class="card-footer p-3">
             
            </div>
          </div>
          <div class="mt-4">
            <a href ="{% url 'dashboard:certificates' %}" class="btn btn-info btn-lg w-100" > Manage certificates</a>
          </div>
        </div>
      </div>


    
    
    </div>
  </main>
{% endblock %}
